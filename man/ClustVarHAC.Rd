% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ClustVarHAC.R
\name{ClustVarHAC}
\alias{ClustVarHAC}
\title{R6 class for Hierarchical Agglomerative Clustering (HAC) of variables}
\description{
This class wraps the HAC algorithm for clustering numeric variables.
It uses the base R function stats::hclust() on a distance matrix computed
between the variables (columns of the input data).
}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{K}}{Integer, the desired number of clusters (for cutting the tree).}

\item{\code{method}}{Character string, the distance metric to use: "correlation" (1 - |r|) or "euclidean" (on transposed data).}

\item{\code{linkage_method}}{Character string, the agglomeration (linkage) method for stats::hclust: e.g., "ward.D2", "complete", "average".}

\item{\code{model}}{Stores the hclust object resulting from fit.}

\item{\code{dist_matrix}}{The distance matrix (stats::dist object) used for hclust.}

\item{\code{clusters}}{Named list where keys are cluster IDs (1 to K) and values are vectors of variable names.}

\item{\code{fitted}}{Logical, fit status of the model (TRUE if $fit() has been executed).}

\item{\code{data}}{The transposed, normalized (scaled) data matrix used for fitting (variables as rows, observations as columns).}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-ClustVarHAC-new}{\code{ClustVarHAC$new()}}
\item \href{#method-ClustVarHAC-fit}{\code{ClustVarHAC$fit()}}
\item \href{#method-ClustVarHAC-predict}{\code{ClustVarHAC$predict()}}
\item \href{#method-ClustVarHAC-plot}{\code{ClustVarHAC$plot()}}
\item \href{#method-ClustVarHAC-print}{\code{ClustVarHAC$print()}}
\item \href{#method-ClustVarHAC-summary}{\code{ClustVarHAC$summary()}}
\item \href{#method-ClustVarHAC-clone}{\code{ClustVarHAC$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustVarHAC-new"></a>}}
\if{latex}{\out{\hypertarget{method-ClustVarHAC-new}{}}}
\subsection{Method \code{new()}}{
Create a new ClustVarHAC object.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustVarHAC$new(K = 2, method = "correlation", linkage_method = "ward.D2")}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{K}}{Integer, the number of clusters to cut the dendrogram into (default: 2).}

\item{\code{method}}{Character string, the distance metric to use (default: "correlation").}

\item{\code{linkage_method}}{Character string, the agglomeration method for hclust (default: "ward.D2").}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A new \code{ClustVarHAC} object.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustVarHAC-fit"></a>}}
\if{latex}{\out{\hypertarget{method-ClustVarHAC-fit}{}}}
\subsection{Method \code{fit()}}{
Fits the HAC model by calculating the distance matrix between variables and performing hierarchical clustering.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustVarHAC$fit(X)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{X}}{A data.frame or matrix containing only numeric variables to cluster.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
The object itself (invisibly) for method chaining.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustVarHAC-predict"></a>}}
\if{latex}{\out{\hypertarget{method-ClustVarHAC-predict}{}}}
\subsection{Method \code{predict()}}{
Predicts the cluster membership for new, illustrative numeric variables based on their mean absolute correlation to the existing clusters.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustVarHAC$predict(newdata)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{newdata}}{A data.frame or matrix of new numeric variables (must have the same number of observations as the training data).}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A data.frame with the variable name, assigned cluster ID, and the maximal average absolute correlation score.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustVarHAC-plot"></a>}}
\if{latex}{\out{\hypertarget{method-ClustVarHAC-plot}{}}}
\subsection{Method \code{plot()}}{
Generates various diagnostic and interpretation plots for the HAC model.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustVarHAC$plot(
  type = c("dendrogram", "heights", "heatmap", "representativeness"),
  ...
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{type}}{Character string indicating the type of plot to generate. Must be one of:
\itemize{
\item \code{"dendrogram"}: Displays the hierarchical tree with the cut line for the selected \code{self$K}. Requires \code{ggdendro}.
\item \code{"heights"}: Plots the fusion heights of the agglomerative steps (similar to a scree plot). This helps in visually selecting the optimal \code{K} based on the "elbow" rule.
\item \code{"heatmap"}: Displays the correlation matrix of the variables, ordered by their cluster assignment. This confirms intra-cluster cohesion.
\item \code{"representativeness"}: Bar chart showing each variable's similarity (correlation or normalized distance) to its calculated cluster centroid. Variables with high scores are considered the most representative of their cluster.
}}

\item{\code{...}}{Additional arguments passed to specific plot functions.}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
Requires the \code{ggplot2}, \code{ggdendro}, and \code{reshape2} packages.
}

\subsection{Returns}{
A ggplot2 object.
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustVarHAC-print"></a>}}
\if{latex}{\out{\hypertarget{method-ClustVarHAC-print}{}}}
\subsection{Method \code{print()}}{
Prints a concise summary of the HAC model parameters and status.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustVarHAC$print()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
The object itself (invisibly).
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustVarHAC-summary"></a>}}
\if{latex}{\out{\hypertarget{method-ClustVarHAC-summary}{}}}
\subsection{Method \code{summary()}}{
Displays a detailed summary including model parameters, the final cluster composition, and the cophenetic correlation.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustVarHAC$summary()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
The object itself (invisibly).
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-ClustVarHAC-clone"></a>}}
\if{latex}{\out{\hypertarget{method-ClustVarHAC-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{ClustVarHAC$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
